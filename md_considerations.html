<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kariba: Considerations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Kariba
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_considerations.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Considerations</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md13"></a> These are some considerations that were made during the restructuring of BHJet into Kariba. It can also be seen as a form of a F.A.Q.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Build system</h1>
<p>The <code>make</code> build system is used. This is one of the simpler, and readily available, build systems around (though it can get complex if wanted). Given that the likely systems where Kariba should be build and run on are Linux and macOS (from the terminal), no need for another build system seems necessary.</p>
<p>Configuration is done with a small file where a few variables can be set; there is no extensive configure (from autotools) script.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
CMake</h2>
<p>By now, using CMake is far more standard for C++ projects. But CMake can feel very verbose, with dozens of functions to set variables. It is, in fact, a configuration language to create makefiles or equivalent for a variety of OSes and build systems, which is not necessary in this case: its output for Kariba would be a (more complex) Makefile on the Linux and macOS shell.</p>
<p>Meson and Ninja are other alternatives for a build system, but the availability and (in this case) the simplicity of using make directly doesn't warrant the use of Meson or friends.</p>
<h1><a class="anchor" id="autotoc_md16"></a>
Namespacing</h1>
<p>Namespacing is liberally used, including prefixes to all common math functions and iostream functions. This makes things a bit verbose, but should also be clearer on what functions are actually used (even if common).</p>
<p>A few exceptions still exist (including ones that slipped through the replace-net), such as <code>size_t</code> instead of <code>std::size_t</code>.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Constants</h2>
<p>Constants have their own subnamespace. They are not capitalized, as is standard for constants, since this is less mathematical, and also prevents one from distinguishing prefixes such as <code>m</code> versus <code>M</code> (although <code>MILLI</code> and <code>MEGA</code> could probably work fine here).</p>
<h1><a class="anchor" id="autotoc_md18"></a>
Use of &lt;tt&gt;size_t&lt;/tt&gt; and variable types</h1>
<p>Many <code>int</code> occurrences have been replaced with <code>size_t</code>. This is not out of necessity: array sizes are generally small enough that an <code>int</code> will suffice. It is more indicative: the use of <code>size_t</code> indicates this variable is used to limit the size of an array (although vectors carry their own size in the form of a <code>.size()</code> method; which returns a <code>size_T</code>) or is used to index an array (such as index variables in a loop).</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Replacement of other variable types</h2>
<p>Some other occurences of either <code>double</code> or <code>int</code> could be made more explicit with fixed-width types, such as <code>float64_t</code>, <code>in16_t</code>, or <code>int_least32_t</code>. This, however, seems unnecessary, as the C++ standard guarantees enough precision and value-range for default doubles and integers. Note that <code>float64_t</code> is only available since C++23.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
Use of &lt;tt&gt;auto&lt;/tt&gt;</h2>
<p>More use of <code>auto</code> is a possibility. This may make the code more flexible. <code>auto</code> is probably the most useful with complex types, such as <code>std::vector&lt;double&gt;</code>; but there are few places where the latter can indeed be replaced by <code>auto</code>.</p>
<h1><a class="anchor" id="autotoc_md21"></a>
Unit testing</h1>
<p><a href="https://github.com/doctest/doctest">Doctest</a> is used for running unit tests. The initial set of unit tests were created using Claude LLM from the examples, and may have to be replaced by better implementations over time.</p>
<p>Doctest is certainly not the definitive unit testing framework to be used. Its advantage of being a single header file makes it easy to include it with the repository (though its size and presumed templating behind the scenes makes compilation relatively slow).</p>
<h1><a class="anchor" id="autotoc_md22"></a>
Other improvements and issues</h1>
<p>Check the issue tracker on the GitHub repository for suggestions of improvements and features, and outstanding issues. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
