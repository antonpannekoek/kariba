<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kariba: testing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Kariba
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_testing.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">testing</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md42"></a>
Testing Kariba</h1>
<h2><a class="anchor" id="autotoc_md43"></a>
Building Kariba, the examples and tests</h2>
<p>Building the library, its examples and its tests is the first step to testing Kariba.</p>
<p>Pay attention to warnings. Most, essentially all, warnings should be fixed. For example, unused variables can indicate typos.</p>
<p>Once everything looks like it's compiling properly, do check one last time from a clean build, and build in parallel (so you notice if you have file dependencies incorrectly set):</p>
<div class="fragment"><div class="line">make distclean</div>
<div class="line">make -j</div>
</div><!-- fragment --><p>Also verify that the order of include files does not matter: you should be able to swap some of the includes (in particular, the Kariba ones) without causing a problem. In the end, though, the formatter will sort the includes alphabetically.</p>
<h2><a class="anchor" id="autotoc_md44"></a>
Unit tests</h2>
<p>Kariba has a set of unit tests. These are far from complete, and are derived from the examples.</p>
<p>Feel free to add further tests. Keep them simple: test basic functionality first.</p>
<p>If you write a new function, it is good to add unit tests for that function. Test for a few regular input arguments, but also for bad arguments (negative values, empty vectors etc).</p>
<p>If you find a bug, and fix the bug, add a unit test that specifically tests for this bug, so that the bug will be caught quicker and more easily should it return (a so-called regression test).</p>
<h3><a class="anchor" id="autotoc_md45"></a>
Extensive example unit test</h3>
<p>While most unit tests were LLM-derived from the examples, the EBL unit test was manually written. It is perhaps not fully complete, but does test for edge cases and such. It is suggested to take the EBL unit tests as an example when writing your own unit tests for a function.</p>
<h2><a class="anchor" id="autotoc_md46"></a>
Examples</h2>
<p>The examples are tested by running them, then comparing the *.dat files in the output/ directory with those in the comparison-output/ directory. The differences should be exactly zero. A quick one-liner in bash or zsh is <code>for path in output/*dat ; do fname=$(basename $path) ; comppath="comparison-output/${fname}" ; echo "diff -q $path
$comppath" ; diff -q $path $comppath ; done</code>.</p>
<h2><a class="anchor" id="autotoc_md47"></a>
GitHub actions</h2>
<p>All of the above (or nearly; not the shuffling of include files) is done automatically as part of the continuous integration (CI). This is done through GitHub actions, and runs in a virtual Linux machine. See the setup in <code>.github/workflows/ci.yml</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
